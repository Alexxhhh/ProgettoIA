```html
<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Caccia al Tesoro</title>
<style>
body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}
#game-container {
  display: flex;
  width: 80%;
  max-width: 1200px;
  justify-content: space-around;
  align-items: flex-start;
}
#inventory, #lives {
  width: 150px;
  padding: 10px;
  border: 1px solid #555;
  border-radius: 5px;
  margin-top: 20px;
}
#room-image {
  max-width: 500px;
  max-height: 300px;
  margin-top: 20px;
}
#directions {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}
button {
  background-color: #444;
  color: #eee;
  border: 1px solid #555;
  border-radius: 5px;
  padding: 10px 20px;
  margin: 0 10px;
  cursor: pointer;
}
button:disabled {
  background-color: #333;
  cursor: default;
}
#riddle-container {
  display: none;
  margin-top: 20px;
}
#riddle-text {
  width: 300px;
  padding: 10px;
  border: 1px solid #555;
  border-radius: 5px;
}
#game-over, #victory {
  display: none;
  font-size: 2em;
  margin-top: 20px;
}
</style>
</head>
<body>
<h1>Caccia al Tesoro</h1>
<div id="game-container">
  <div id="inventory">
    <h2>Inventario</h2>
    <ul id="inventory-list"></ul>
  </div>
  <div>
    <h2 id="room-name">Stanza d'ingresso</h2>
    <img id="room-image" src="https://www.pexels.com/photo/dark-fantasy-forest-path-736886/" alt="Stanza d'ingresso">
    <div id="directions">
      <button id="btn-n" disabled>N</button>
      <button id="btn-s" disabled>S</button>
      <button id="btn-e" disabled>E</button>
      <button id="btn-w" disabled>W</button>
    </div>
    <div id="key-needed">X</div>
    <div id="riddle-container">
      <p id="riddle-question"></p>
      <input type="text" id="riddle-answer">
      <button id="submit-answer">Invia risposta</button>
    </div>
  </div>
  <div id="lives">
    <h2>Vite: <span id="lives-count">♥♥♥</span></h2>
  </div>
</div>
<div id="game-over">Game Over</div>
<div id="victory">Vittorioso!</div>

<script>
const rooms = {
  1: {name: "entrance", img: "https://www.pexels.com/photo/dark-fantasy-forest-path-736886/", n: 2, s: 12, e: 13},
  2: {name: "TO_Torcia2", img: "https://www.pexels.com/photo/dark-fantasy-cave-entrance-736885/", riddle: "La stanza è piena di pipistrelli, che oggetto intendi usare per attraversarla?", answer: "Torcia", e: 3, s: 1},
  3: {name: "LK43", img: "https://www.pexels.com/photo/dark-fantasy-stone-bridge-736887/", e: 4, w: 2},
  4: {name: "TE_Tempo4", img: "https://www.pexels.com/photo/dark-fantasy-forest-path-736886/", riddle: "Mi trovi nel presente, ma non posso essere toccato. Passo silenzioso, nessuno mi vede arrivare. Posso guarire o distruggere. Chi sono?", answer: "Tempo", e: 5, s: 14, w: 3},
  5: {name: "TO_Gas5", img: "https://www.pexels.com/photo/dark-fantasy-dungeon-736884/", riddle: "Hai azionato una trappola e la stanza si sta riempiendo di gas! Che oggetto vuoi usare?", answer: "Panno_bagnato", e: 6, s: 15, w: 4},
  6: {name: "LV6", img: "https://www.pexels.com/photo/dark-fantasy-castle-736883/", s: 7, w: 5},
  7: {name: "TE_Stagioni7", img: "https://www.pexels.com/photo/dark-fantasy-forest-736882/", riddle: "Fratelli corrono insieme, nessuno lascia mai il proprio cammino. A volte sono calmi, a volte in guerra, ma sempre si inseguono all'infinito.", answer: "Stagioni", n: 6, s: 8, w: 15},
  8: {name: "LK38", img: "https://www.pexels.com/photo/dark-fantasy-forest-path-736886/", n: 7, w: 9},
  9: {name: "LV9", img: "https://www.pexels.com/photo/dark-fantasy-castle-736883/", n: 15, e: 8, w: 10},
  10: {name: "TO_Scudo10", img: "https://www.pexels.com/photo/dark-fantasy-dungeon-736884/", riddle: "La stanza è piena di buchi sulle pareti. Che oggetto vuoi usare per proseguire?", answer: "Scudo", e: 9, w: 11},
  11: {name: "LK111", img: "https://www.pexels.com/photo/dark-fantasy-stone-bridge-736887/", e: 10, w: 13},
  12: {name: "TE_Statua12", img: "https://www.pexels.com/photo/dark-fantasy-forest-736882/", riddle: "Ho occhi ma non posso vedere, una bocca ma non posso parlare, una forma umana ma non lo sono. Chi sono?", answer: "Statua", n: 1, e: 14},
  13: {name: "TE_Oscurita13", img: "https://www.pexels.com/photo/dark-fantasy-forest-path-736886/", riddle: "Più passa il tempo, più divento grande. Vivo dove la luce non osa entrare. Un giorno conquistero' anche l'universo. Cosa sono?", answer: "Oscurità", s: 11, w: 1},
  14: {name: "LK214", img: "https://www.pexels.com/photo/dark-fantasy-cave-entrance-736885/", n: 4, e: 12, s: 13},
  15: {name: "TO_Asta_di_ferro15", img: "https://www.pexels.com/photo/dark-fantasy-dungeon-736884/", riddle: "Le porte si sono chiuse e la stanza si sta riempiendo d'acqua! Vedi una leva quasi sommersa, che oggetto vuoi usare?", answer: "Asta_di_ferro", n: 5, e: 7, s: 9, w: 16},
  16: {name: "treasure_antechamber16", img: "https://www.pexels.com/photo/dark-fantasy-castle-736883/", riddle: "Chi è che al mattino cammina con 4 zampe, a mezzogiorno con 2 e la sera con 3?", answer: "Uomo", e: 15, w: 17},
  17: {name: "treasure_room", img: "https://www.pexels.com/photo/dark-fantasy-treasure-chest-736881/"}
};
const keys = ["k1", "k2", "k3", "k4"];
const items = ["Torcia", "Panno_bagnato", "Scudo", "Asta_di_ferro"];
let currentRoom = 1;
let lives = 3;
let inventory = [...items];
let hasKeys = [false, false, false, false];

function updateUI() {
  const roomData = rooms[currentRoom];
  document.getElementById("room-name").textContent = "Stanza: " + (roomData.name.charAt(0).toUpperCase() + roomData.name.slice(1));
  document.getElementById("room-image").src = roomData.img;
  document.getElementById("lives-count").textContent = "♥".repeat(lives);
  document.getElementById("inventory-list").innerHTML = inventory.concat(hasKeys.map((key, index) => key ? keys[index] : "").filter(item => item)).map(item => `<li>${item}</li>`).join("");

  document.getElementById("btn-n").disabled = !(roomData.n && rooms[roomData.n]);
  document.getElementById("btn-s").disabled = !(roomData.s && rooms[roomData.s]);
  document.getElementById("btn-e").disabled = !(roomData.e && rooms[roomData.e]);
  document.getElementById("btn-w").disabled = !(roomData.w && rooms[roomData.w]);

  if (roomData.riddle) {
    document.getElementById("directions").style.display = "none";
    document.getElementById("riddle-container").style.display = "block";
    document.getElementById("riddle-question").textContent = roomData.riddle;
  } else {
    document.getElementById("directions").style.display = "flex";
    document.getElementById("riddle-container").style.display = "none";
  }

  if (currentRoom === 17) {
    document.getElementById("victory").style.display = "block";
    document.getElementById("game-container").style.display = "none";
  } else if (lives <= 0) {
    document.getElementById("game-over").style.display = "block";
    document.getElementById("game-container").style.display = "none";
  }
}

document.getElementById("submit-answer").addEventListener("click", () => {
  const roomData = rooms[currentRoom];
  if (document.getElementById("riddle-answer").value.toLowerCase() === roomData.answer.toLowerCase()) {
    delete roomData.riddle;
    updateUI();
  } else {
    lives--;
    if (lives <= 0) {
      updateUI();
    } else {
      alert("Risposta sbagliata! Hai perso una vita.");
      updateUI();
    }
  }
});

document.getElementById("btn-n").addEventListener("click", () => { move("n"); });
document.getElementById("btn-s").addEventListener("click", () => { move("s"); });
document.getElementById("btn-e").addEventListener("click", () => { move("e"); });
document.getElementById("btn-w").addEventListener("click", () => { move("w"); });

function move(direction) {
  const roomData = rooms[currentRoom];
  const nextRoom = roomData[direction];
  if (nextRoom) {
    currentRoom = nextRoom;
    updateUI();
  }
}

updateUI();
</script>

</body>
</html>
```